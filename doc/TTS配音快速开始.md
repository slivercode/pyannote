# TTS 配音快速开始指南

## 🎯 5分钟完成第一个配音

### 前置条件

1. ✅ GPT-SoVITS 服务已启动（`http://192.168.110.204:9880`）
2. ✅ 参考音频文件已上传到服务器根目录（如 `cs3.mp3`）
3. ✅ 已配置至少一个 TTS 角色

### 步骤1: 配置 TTS 角色（首次使用）

如果还没有配置角色，请先完成以下步骤：

1. 点击导航栏的 **"TTS模型管理"**
2. 启用 **GPT-SoVITS**
3. 填写配置：
   ```
   API地址: http://192.168.110.204:9880
   ```
4. 点击 **"添加角色"**
5. 填写角色信息：
   ```
   角色名称: 测试角色
   参考音频路径: cs3.mp3
   参考文本: 何でだよ 私たちは治療を受けに来たんだよ
   参考语言: 日文
   语速: 1.0
   ```
6. 点击 **"测试合成"** 验证配置
7. 点击 **"保存配置"**

### 步骤2: 准备 SRT 字幕文件

使用项目提供的示例文件 `example_subtitle.srt`，或创建自己的 SRT 文件：

```srt
1
00:00:00,000 --> 00:00:03,500
大家好，欢迎收看今天的节目

2
00:00:04,000 --> 00:00:08,000
今天我们要讲解的是人工智能技术

3
00:00:08,500 --> 00:00:12,000
人工智能正在改变我们的生活
```

### 步骤3: 开始配音

1. 点击导航栏的 **"TTS配音"** 标签

2. **上传 SRT 文件**
   - 点击文件选择器
   - 选择 `example_subtitle.srt`
   - 确认显示字幕数量

3. **选择 TTS 引擎**
   - 下拉选择：`GPT-SoVITS`

4. **选择配音角色**
   - 下拉选择：`测试角色`

5. **调整参数**（可选）
   - 语速：`1.0x`（默认）
   - 静音间隔：`0.5秒`（默认）
   - 自动对齐时间轴：`✓`（推荐）

6. **点击"开始配音"**

### 步骤4: 等待完成

观察右侧进度面板：

- ⏳ 状态：配音中
- 📊 进度条：实时更新
- 📝 当前处理：显示正在合成的字幕
- ⏱️ 预计时间：约 1-2 分钟（取决于字幕数量）

### 步骤5: 试听和下载

配音完成后：

1. **在线试听**
   - 点击播放器的播放按钮
   - 检查音质和同步效果

2. **下载音频**
   - 点击 **"下载音频"** 按钮
   - 文件保存为 `tts_dubbing.wav`

3. **查看文件**
   - 点击 **"打开文件夹"** 按钮
   - 在文件管理器中查看输出文件

## 🎓 进阶使用

### 创建自定义 SRT 文件

使用任何文本编辑器创建 SRT 文件：

```srt
序号
开始时间 --> 结束时间
字幕文本

序号
开始时间 --> 结束时间
字幕文本
```

**时间格式**: `HH:MM:SS,mmm`

**示例**:
```srt
1
00:00:00,000 --> 00:00:05,000
这是第一句话

2
00:00:05,500 --> 00:00:10,000
这是第二句话
```

### 调整语速

根据不同场景调整语速：

| 场景 | 推荐语速 |
|------|---------|
| 新闻播报 | 1.0x - 1.1x |
| 教学视频 | 0.9x - 1.0x |
| 有声书 | 0.8x - 0.9x |
| 广告配音 | 1.1x - 1.2x |

### 优化音质

**提升音质的技巧**:

1. **使用高质量参考音频**
   - 清晰、无噪音
   - 3-10 秒时长
   - WAV 格式（推荐）

2. **准确的参考文本**
   - 与音频内容完全一致
   - 包含标点符号
   - 语言标记正确

3. **合理的字幕时长**
   - 每句 3-10 秒
   - 避免过长或过短

## 🔧 常见问题

### Q1: 上传 SRT 后显示 0 条字幕？

**原因**: SRT 文件格式不正确

**解决**:
1. 检查文件编码是否为 UTF-8
2. 确认时间格式为 `HH:MM:SS,mmm`
3. 确保每个字幕块之间有空行

### Q2: 配音失败，显示"无法连接到服务器"？

**原因**: GPT-SoVITS 服务未启动或地址错误

**解决**:
1. 确认 GPT-SoVITS 服务正在运行
2. 检查 API 地址：`http://192.168.110.204:9880`
3. 在 TTS 模型管理中测试连接

### Q3: 音频与字幕不同步？

**原因**: 未启用自动对齐

**解决**:
1. 启用"自动对齐时间轴"选项
2. 检查 SRT 时间设置是否合理
3. 调整静音间隔参数

### Q4: 合成速度很慢？

**原因**: 网络延迟或服务器性能

**解决**:
1. 使用本地部署的 TTS 服务
2. 减少字幕数量，分批处理
3. 升级服务器硬件

## 💡 使用技巧

### 技巧1: 批量处理

如果有多个 SRT 文件需要处理：

1. 逐个上传处理
2. 使用相同的角色配置
3. 保持参数一致
4. 分别下载结果

### 技巧2: 多角色配音

为不同角色配置不同的 TTS 角色：

1. 在 TTS 模型管理中添加多个角色
2. 为每个角色准备对应的 SRT 文件
3. 分别生成配音
4. 使用音频编辑软件合并

### 技巧3: 后期处理

配音完成后可以进行后期处理：

1. **降噪**: 使用 Audacity 等工具
2. **音量均衡**: 确保音量一致
3. **添加背景音乐**: 使用视频编辑软件
4. **格式转换**: 转换为 MP3 等格式

## 📊 性能参考

### 处理时间

| 字幕数量 | 预计时间 |
|---------|---------|
| 1-10 条 | 30秒 - 1分钟 |
| 11-30 条 | 1-3 分钟 |
| 31-50 条 | 3-5 分钟 |
| 50+ 条 | 5+ 分钟 |

*注: 实际时间取决于网络速度和服务器性能*

### 文件大小

| 时长 | WAV 大小 |
|------|---------|
| 1 分钟 | ~10 MB |
| 5 分钟 | ~50 MB |
| 10 分钟 | ~100 MB |

## 🎬 实战案例

### 案例1: 教学视频配音

**需求**: 为 5 分钟的教学视频添加配音

**步骤**:
1. 编写教学脚本
2. 转换为 SRT 格式（约 30 条字幕）
3. 选择教师风格的角色
4. 设置语速 0.9x（便于学习）
5. 生成配音
6. 使用视频编辑软件合并

**结果**: 清晰的教学配音，学生反馈良好

### 案例2: 有声书制作

**需求**: 将小说章节转换为有声读物

**步骤**:
1. 将文本分段（每段 5-10 秒）
2. 创建 SRT 文件
3. 选择朗读风格的角色
4. 设置语速 0.8x（舒适的阅读速度）
5. 生成完整音频

**结果**: 自然流畅的有声书

## 📚 相关资源

- [TTS配音模块使用说明.md](./TTS配音模块使用说明.md) - 完整功能文档
- [TTS模型管理使用说明.md](./TTS模型管理使用说明.md) - 角色配置指南
- [example_subtitle.srt](./example_subtitle.srt) - 示例字幕文件

## ✅ 检查清单

开始配音前，确认以下项目：

- [ ] GPT-SoVITS 服务已启动
- [ ] 已配置至少一个 TTS 角色
- [ ] 参考音频文件在服务器上
- [ ] SRT 文件格式正确
- [ ] 已测试 TTS 角色可用
- [ ] 网络连接正常

全部确认后，即可开始配音！🎉

## 🚀 下一步

完成第一个配音后，你可以：

1. 尝试不同的角色和参数
2. 制作更长的配音项目
3. 探索多角色配音
4. 优化音质和效果
5. 分享你的作品

祝你使用愉快！如有问题，请参考完整文档或联系技术支持。
